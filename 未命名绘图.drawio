<mxfile host="app.diagrams.net" modified="2021-03-04T14:56:46.024Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.72 Safari/537.36" etag="RJYJkBLsFYsX_28x6Ayc" version="14.4.4" type="github" pages="2">
  <diagram id="IOh4PAiZkawLgyW5_e6M" name="第 1 页">
    <mxGraphModel dx="3764" dy="1560" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="1654" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="SYeLV3Aws_iC3zg5UTRD-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SYeLV3Aws_iC3zg5UTRD-1" target="SYeLV3Aws_iC3zg5UTRD-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SYeLV3Aws_iC3zg5UTRD-1" value="&lt;font&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;主题接口（如天气主题）Subject&lt;br&gt;方法&lt;br&gt;public void notifyObservers(); // 通知观察者&lt;br&gt;&lt;/font&gt;public void registerObserver(Observer o); // 加入观察者&lt;br&gt;public void removeObserver(Observer o); // 移除观察者&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="65" y="10" width="315" height="80" as="geometry" />
        </mxCell>
        <mxCell id="SYeLV3Aws_iC3zg5UTRD-4" value="public class WeatherData implements Subject { // 天气主题(被观察者)&lt;br&gt;&lt;div&gt;private ArrayList observers; // 记录观察者&lt;/div&gt;&lt;div&gt;&lt;span&gt; &lt;/span&gt;private float temperature; // 温度&lt;/div&gt;&lt;div&gt;&lt;span&gt; &lt;/span&gt;private float humidity; // 湿度&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt; &lt;/span&gt;public void notifyObservers() {&lt;/div&gt;&lt;div&gt;&lt;span&gt;  &lt;/span&gt;for (int i = 0; i &amp;lt; observers.size(); i++) {&lt;/div&gt;&lt;div&gt;&lt;span&gt;   &lt;/span&gt;Observer observer = (Observer) observers.get(i);&lt;/div&gt;&lt;div&gt;&lt;span&gt;   &lt;/span&gt;observer.&lt;b&gt;update&lt;/b&gt;(&lt;span&gt;observer&lt;/span&gt;&lt;span&gt;); // 通知所有观察者&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;  &lt;/span&gt;}&lt;/div&gt;&lt;div&gt;&lt;span&gt; &lt;/span&gt;}&lt;/div&gt;&lt;/div&gt;}" style="whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="32.5" y="160" width="380" height="180" as="geometry" />
        </mxCell>
        <mxCell id="SYeLV3Aws_iC3zg5UTRD-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SYeLV3Aws_iC3zg5UTRD-7" target="SYeLV3Aws_iC3zg5UTRD-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SYeLV3Aws_iC3zg5UTRD-7" value="&lt;div&gt;观察者接口Observer&lt;/div&gt;&lt;div&gt;&lt;span&gt; &lt;/span&gt;public void update(Subject s); // 更新方法&lt;/div&gt;" style="whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="675" y="10" width="240" height="50" as="geometry" />
        </mxCell>
        <mxCell id="SYeLV3Aws_iC3zg5UTRD-12" value="// 观察者1号，观察温度&lt;br&gt;public class TemperatureObserver&amp;nbsp;implements Observer{&lt;br&gt;&lt;div&gt;private float temperature;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt; &lt;/span&gt;public void update(observer&lt;span&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;this.temperature = observer.temperature;&lt;br&gt;&lt;div&gt;&lt;span&gt; &lt;/span&gt;}&lt;/div&gt;}" style="whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="460" y="162.5" width="310" height="145" as="geometry" />
        </mxCell>
        <mxCell id="SYeLV3Aws_iC3zg5UTRD-17" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" target="SYeLV3Aws_iC3zg5UTRD-18" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="795" y="60" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="795" y="105" />
              <mxPoint x="990" y="105" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="SYeLV3Aws_iC3zg5UTRD-18" value="// 观察者2号，观察温度&lt;br&gt;public class TemperatureObserver&amp;nbsp;implements Observer{&lt;br&gt;&lt;div&gt;private float humidity;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt; &lt;/span&gt;public void update(observer&lt;span&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;this.humidity= observer.humidity;&lt;br&gt;&lt;div&gt;&lt;span&gt; &lt;/span&gt;}&lt;/div&gt;}" style="whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="835" y="155" width="310" height="145" as="geometry" />
        </mxCell>
        <mxCell id="PK-PFNxCyHaTdvOHPVNn-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="PK-PFNxCyHaTdvOHPVNn-1" target="PK-PFNxCyHaTdvOHPVNn-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PK-PFNxCyHaTdvOHPVNn-1" value="&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;&lt;span style=&quot;color: #0033b3&quot;&gt;public boolean &lt;/span&gt;&lt;span style=&quot;color: #00627a&quot;&gt;add&lt;/span&gt;(&lt;span style=&quot;color: #007e8a&quot;&gt;E &lt;/span&gt;e) {&lt;/p&gt;&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;strong&gt;ensureCapacityInternal(&lt;/strong&gt;&lt;strong&gt;&lt;span style=&quot;color: #871094&quot;&gt;size &lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;+ &lt;/strong&gt;&lt;strong&gt;&lt;span style=&quot;color: #1750eb&quot;&gt;1&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;); &amp;nbsp;&lt;/strong&gt;&lt;strong&gt;&lt;em&gt;//&lt;/em&gt;&lt;/strong&gt;&lt;strong&gt;&lt;em&gt; &lt;/em&gt;&lt;/strong&gt;&lt;strong&gt;增加modCount ！！&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;&amp;nbsp; &amp;nbsp; // size是数组中已存在的元素个数。list.size()，即返回得是此size&lt;br&gt;&lt;em&gt; &amp;nbsp; &amp;nbsp;&lt;/em&gt;&lt;span style=&quot;color: #871094&quot;&gt;elementData&lt;/span&gt;[&lt;span style=&quot;color: #871094&quot;&gt;size&lt;/span&gt;++] = e;&lt;/p&gt;&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #0033b3&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #1750eb&quot;&gt;true&lt;/span&gt;;&lt;/p&gt;&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;}&lt;/p&gt;" style="whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="-390" y="390" width="460" height="210" as="geometry" />
        </mxCell>
        <mxCell id="PK-PFNxCyHaTdvOHPVNn-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="PK-PFNxCyHaTdvOHPVNn-2" target="PK-PFNxCyHaTdvOHPVNn-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PK-PFNxCyHaTdvOHPVNn-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="PK-PFNxCyHaTdvOHPVNn-2" target="PK-PFNxCyHaTdvOHPVNn-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PK-PFNxCyHaTdvOHPVNn-2" value="&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;&lt;span style=&quot;color: #0033b3&quot;&gt;private void &lt;/span&gt;&lt;span style=&quot;color: #00627a&quot;&gt;ensureCapacityInternal&lt;/span&gt;(&lt;span style=&quot;color: #0033b3&quot;&gt;int &lt;/span&gt;minCapacity) {&lt;/p&gt;&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;u&gt;ensureExplicitCapacity&lt;/u&gt;(&lt;strong&gt;&lt;em&gt;calculateCapacity&lt;/em&gt;&lt;/strong&gt;(&lt;span style=&quot;color: #871094&quot;&gt;elementData&lt;/span&gt;, minCapacity));&lt;/p&gt;&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;}&lt;/p&gt;" style="whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="20" y="690" width="460" height="100" as="geometry" />
        </mxCell>
        <mxCell id="PK-PFNxCyHaTdvOHPVNn-4" value="&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;&lt;span style=&quot;color: rgb(0 , 51 , 179)&quot;&gt;private static int &lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122)&quot;&gt;calculateCapacity&lt;/span&gt;(&lt;span style=&quot;color: rgb(0 , 0 , 0)&quot;&gt;Object&lt;/span&gt;[] elementData, &lt;span style=&quot;color: rgb(0 , 51 , 179)&quot;&gt;int &lt;/span&gt;minCapacity) {&lt;/p&gt;&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #0033b3&quot;&gt;if &lt;/span&gt;(elementData == &lt;em&gt;DEFAULTCAPACITY_EMPTY_ELEMENTDATA&lt;/em&gt;) {&lt;/p&gt;&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #0033b3&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #000000&quot;&gt;Math&lt;/span&gt;.&lt;em&gt;max&lt;/em&gt;(&lt;em&gt;DEFAULT_CAPACITY&lt;/em&gt;, minCapacity);&amp;nbsp; // 第一次添加返回10&lt;/p&gt;&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/p&gt;&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #0033b3&quot;&gt;return &lt;/span&gt;minCapacity;&lt;/p&gt;&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;}&lt;/p&gt;" style="whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="515" y="660" width="560" height="160" as="geometry" />
        </mxCell>
        <mxCell id="PK-PFNxCyHaTdvOHPVNn-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="PK-PFNxCyHaTdvOHPVNn-6" target="PK-PFNxCyHaTdvOHPVNn-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PK-PFNxCyHaTdvOHPVNn-6" value="&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;&lt;span style=&quot;color: #0033b3&quot;&gt;private void &lt;/span&gt;&lt;u&gt;&lt;span style=&quot;color: #00627a&quot;&gt;ensureExplicitCapacity&lt;/span&gt;&lt;/u&gt;(&lt;span style=&quot;color: #0033b3&quot;&gt;int &lt;/span&gt;minCapacity) {&lt;/p&gt;&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #871094&quot;&gt;modCount&lt;/span&gt;++;&lt;/p&gt;&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;em&gt;// 索引大于了数组长度&lt;br&gt;&lt;/em&gt;&lt;em&gt; &amp;nbsp; &amp;nbsp;&lt;/em&gt;&lt;span style=&quot;color: #0033b3&quot;&gt;if &lt;/span&gt;(minCapacity - &lt;span style=&quot;color: #871094&quot;&gt;elementData&lt;/span&gt;.&lt;span style=&quot;color: #871094&quot;&gt;length &lt;/span&gt;&amp;gt; &lt;span style=&quot;color: #1750eb&quot;&gt;0&lt;/span&gt;)&lt;/p&gt;&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;strong&gt;grow(minCapacity); // 扩容&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;}&lt;/p&gt;" style="whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="45" y="840" width="410" height="180" as="geometry" />
        </mxCell>
        <mxCell id="PK-PFNxCyHaTdvOHPVNn-8" value="&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;&lt;span style=&quot;color: #0033b3&quot;&gt;private void &lt;/span&gt;&lt;span style=&quot;color: #00627a&quot;&gt;grow&lt;/span&gt;(&lt;span style=&quot;color: #0033b3&quot;&gt;int &lt;/span&gt;minCapacity) {&lt;/p&gt;&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;em&gt;// overflow-conscious code&lt;br&gt;&lt;/em&gt;&lt;em&gt; &amp;nbsp; &amp;nbsp;&lt;/em&gt;&lt;span style=&quot;color: #0033b3&quot;&gt;int &lt;/span&gt;&lt;span style=&quot;color: #000000&quot;&gt;oldCapacity &lt;/span&gt;= &lt;span style=&quot;color: #871094&quot;&gt;elementData&lt;/span&gt;.&lt;span style=&quot;color: #871094&quot;&gt;length&lt;/span&gt;;&lt;/p&gt;&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;&amp;nbsp; &amp;nbsp;&lt;strong&gt; &lt;/strong&gt;&lt;strong&gt;&lt;span style=&quot;color: #0033b3&quot;&gt;int &lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;newCapacity = &lt;/strong&gt;&lt;strong&gt;&lt;span style=&quot;color: #000000&quot;&gt;oldCapacity &lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;+ (&lt;/strong&gt;&lt;strong&gt;&lt;span style=&quot;color: #000000&quot;&gt;oldCapacity &lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&amp;gt;&amp;gt; &lt;/strong&gt;&lt;strong&gt;&lt;span style=&quot;color: #1750eb&quot;&gt;1&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;); // 10右移一位是5，扩容1.5倍；第一次添加时0右移一位还是0.&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #0033b3&quot;&gt;if &lt;/span&gt;(newCapacity - minCapacity &amp;lt; &lt;span style=&quot;color: #1750eb&quot;&gt;0&lt;/span&gt;)&lt;/p&gt;&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; newCapacity = minCapacity; //&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #0033b3&quot;&gt;if &lt;/span&gt;(newCapacity - &lt;em&gt;MAX_ARRAY_SIZE &lt;/em&gt;&amp;gt; &lt;span style=&quot;color: #1750eb&quot;&gt;0&lt;/span&gt;)&lt;/p&gt;&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; newCapacity = &lt;em&gt;hugeCapacity&lt;/em&gt;(minCapacity);&lt;/p&gt;&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;em&gt;// minCapacity is usually close to size, so this is a win:&lt;br&gt;&lt;/em&gt;&lt;em&gt; &amp;nbsp; &amp;nbsp;&lt;/em&gt;&lt;span style=&quot;color: #871094&quot;&gt;elementData &lt;/span&gt;= &lt;span style=&quot;color: #000000&quot;&gt;Arrays&lt;/span&gt;.&lt;em&gt;copyOf&lt;/em&gt;(&lt;span style=&quot;color: #871094&quot;&gt;elementData&lt;/span&gt;, newCapacity); // 第一次newCapacity = 10&lt;/p&gt;&lt;p style=&quot;font-size: 15px ; color: rgb(64 , 64 , 64) ; line-height: 1.74 ; letter-spacing: 0.008em ; outline-style: none ; overflow-wrap: break-word ; margin: 0px&quot;&gt;}&lt;/p&gt;" style="whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="-52.5" y="1060" width="605" height="290" as="geometry" />
        </mxCell>
        <mxCell id="PK-PFNxCyHaTdvOHPVNn-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="PK-PFNxCyHaTdvOHPVNn-10">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="250" y="690" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="PK-PFNxCyHaTdvOHPVNn-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="PK-PFNxCyHaTdvOHPVNn-10" target="PK-PFNxCyHaTdvOHPVNn-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PK-PFNxCyHaTdvOHPVNn-10" value="&lt;pre style=&quot;color: rgb(8 , 8 , 8) ; font-family: , monospace ; font-size: 14.3pt&quot;&gt;&lt;span style=&quot;color: rgb(0 , 51 , 179)&quot;&gt;public void &lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122)&quot;&gt;add&lt;/span&gt;(&lt;span style=&quot;color: rgb(0 , 51 , 179)&quot;&gt;int &lt;/span&gt;index, &lt;span style=&quot;color: rgb(0 , 126 , 138)&quot;&gt;E &lt;/span&gt;element) {&lt;br&gt;    &lt;b&gt;rangeCheckForAdd&lt;/b&gt;(index); // 是在已有元素的位置插入，而不是数组的任意位置&lt;br&gt;&lt;br&gt;    &lt;b&gt;ensureCapacityInternal(&lt;span style=&quot;color: rgb(135 , 16 , 148)&quot;&gt;size &lt;/span&gt;+ &lt;span style=&quot;color: rgb(23 , 80 , 235)&quot;&gt;1&lt;/span&gt;);&lt;/b&gt;  &lt;span style=&quot;color: rgb(140 , 140 , 140) ; font-style: italic&quot;&gt;// Increments modCount!!&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(140 , 140 , 140) ; font-style: italic&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0)&quot;&gt;System&lt;/span&gt;.&lt;span style=&quot;font-style: italic&quot;&gt;arraycopy&lt;/span&gt;(&lt;span style=&quot;color: rgb(135 , 16 , 148)&quot;&gt;elementData&lt;/span&gt;, index, &lt;span style=&quot;color: rgb(135 , 16 , 148)&quot;&gt;elementData&lt;/span&gt;, index + &lt;span style=&quot;color: rgb(23 , 80 , 235)&quot;&gt;1&lt;/span&gt;,&lt;br&gt;                     &lt;span style=&quot;color: rgb(135 , 16 , 148)&quot;&gt;size &lt;/span&gt;- index); // 复制前[1,2,3,,..] 复制后[1,,2,3,...]&lt;br&gt;    &lt;span style=&quot;color: rgb(135 , 16 , 148)&quot;&gt;elementData&lt;/span&gt;[index] = element; //插到空的位置&lt;br&gt;    &lt;span style=&quot;color: rgb(135 , 16 , 148)&quot;&gt;size&lt;/span&gt;++;&lt;br&gt;}&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="140" y="390" width="740" height="210" as="geometry" />
        </mxCell>
        <mxCell id="PK-PFNxCyHaTdvOHPVNn-12" value="&lt;pre style=&quot;color: rgb(8 , 8 , 8) ; font-family: , monospace ; font-size: 14.3pt&quot;&gt;&lt;span style=&quot;color: rgb(0 , 51 , 179)&quot;&gt;private void &lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122)&quot;&gt;rangeCheckForAdd&lt;/span&gt;(&lt;span style=&quot;color: rgb(0 , 51 , 179)&quot;&gt;int &lt;/span&gt;index) {&lt;br&gt;    &lt;span style=&quot;color: rgb(0 , 51 , 179)&quot;&gt;if &lt;/span&gt;(index &amp;gt; &lt;span style=&quot;color: rgb(135 , 16 , 148)&quot;&gt;size &lt;/span&gt;|| index &amp;lt; &lt;span style=&quot;color: rgb(23 , 80 , 235)&quot;&gt;0&lt;/span&gt;)&lt;br&gt;        &lt;span style=&quot;color: rgb(0 , 51 , 179)&quot;&gt;throw new &lt;/span&gt;IndexOutOfBoundsException(outOfBoundsMsg(index));&lt;br&gt;}&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="930" y="447.5" width="650" height="95" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="O5Xmt8BkYF_9prDtjJTG" name="第 2 页">
    <mxGraphModel dx="1038" dy="624" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="1654" math="0" shadow="0">
      <root>
        <mxCell id="EPySK9wZTGDiLBOCiE5P-0" />
        <mxCell id="EPySK9wZTGDiLBOCiE5P-1" parent="EPySK9wZTGDiLBOCiE5P-0" />
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
